# Working with docker
The enclave app and nodejs API server can be run using `docker-compose`,
from the root of the repository:

```shell
$ docker-compose up
Creating network "safetrace_default" with the default driver
Creating safetrace_enclave_1    ... done
Creating safetrace_api-server_1 ... done
Attaching to safetrace_api-server_1, safetrace_enclave_1
api-server_1  | starting JSON RPC server!!!
enclave_1     | [+] Init Enclave Successfully 2!
enclave_1     | Binded to socket: tcp://*:5552
```

## Remote Attestation
Start the services (enclave and api server) in the background:

```shell
$ docker-compose up -d
Creating network "safetrace_default" with the default driver
Creating safetrace_enclave_1    ... done
Creating safetrace_api-server_1 ... done
```

Make the `curl` request for the remote attestation:

```shell
$ curl -H "Content-Type: application/json" -d '{"jsonrpc": "2.0", "id":1, "method":"getEnclaveReport", "params": {}}' http://localhost:8080 | python3.6 -m json.tool
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  3016  100  2947  100    69   3812     89 --:--:-- --:--:-- --:--:--  3896
{
    "jsonrpc": "2.0",
    "id": 1,
    "result": {
        "id": "b389cdbdbf",
        "type": "GetEnclaveReport",
        "result": {
            "signingKey": "b450eb7ddb803841596daaa112ee028ab158b152",
            "report": "7b2261647669736f7279494473223a5b22494e54454c2d53412d3030333334222c22494e54454c2d53412d3030313631222c22494e54454c2d53412d3030323139222c22494e54454c2d53412d3030323839225d2c2261647669736f727955524c223a2268747470733a2f2f73656375726974792d63656e7465722e696e74656c2e636f6d222c226964223a223437383630383639393935333436353634323434383431303835313936303239363737373430222c22697376456e636c61766551756f7465426f6479223a2241674141414d674c4141414c41416f41414141414147534e62522f7245715234655966334c4d384b3263666455635937526e67424e6e385a6a6d7264707a694d4542414342762b4141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414277414141414141414141484141414141414141414f51434843537a4d2b73483131363172564b58723431647879666b7931664a6a6a2b35625a586964694873414141414141414141414141414141414141414141414141414141414141414141414141414141414141434431786e6e6665724b4648443275765971545864444138695a32326b434435787737683338434d664f6e6741414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414330554f74393234413451566c747171455337674b4b73566978556741414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141222c22697376456e636c61766551756f7465537461747573223a22434f4e46494755524154494f4e5f414e445f53575f48415244454e494e475f4e4545444544222c22706c6174666f726d496e666f426c6f62223a22313530323030363530303030303830303030304630463032303430313830303730303030303030303030303030303030303030423030303030423030303030303032303030303030303030303030304243383036364144343044453434453242433143374631323037433342383343373336373142373132413138463543333443383946303743314335454246413241394338413746343532453131423535313941414330363546303638423744423436463143464638444338363830343244384636444234414241344242364236453741222c2274696d657374616d70223a22323032302d30392d31345432313a33373a34362e393732383933222c2276657273696f6e223a347d",
            "signature": "320b2959bbe1a07ddb6b746d57ae267fddc6dac8385defd4b307020351ffb7e323ade9723e2bf77c1d5d3a75d6808b1000d547aeacbaef50d706ea3da7d60e1524b6dca73fb225f1946ff0a7f2498665d4065cfc225aaca7df3b1bf04e87227e8c66de5439bdf17793bdf26a444c45b827d4dcf1e01e2253bc423344a5bd0ddce27d3f8d027a13d40a87b577b4950da989bd06af0d9900917e720d2bda3e725c2e51336e889827ef46a82912214e0434842cdd283f3f17e300b3b6f3e1e007fe9058885f9207223e80cc0473412307e2baf4fbeda3143e1096cf59a4da8469b7e6ce608b58e889377c3e0c113cbbb18a8d5c87d7fed52d1baef965254631802f"
        }
    }
}
```

Inspect the container (enclave and api server) logs:

```shell
$ docker-compose logs
Attaching to safetrace_enclave_1, safetrace_api-server_1
api-server_1  | starting JSON RPC server!!!
api-server_1  | Message received                                                                     api-server_1  | {
api-server_1  |   id: 'b389cdbdbf',
api-server_1  |   type: 'GetEnclaveReport',
api-server_1  |   result: {
api-server_1  |     signingKey: 'b450eb7ddb803841596daaa112ee028ab158b152',
api-server_1  |     report: '7b2261647669736f7279494473223a5b22494e54454c2d53412d3030333334222c22494e54454c2d53412d3030313631222c22494e54454c2d53412d3030323139222c22494e54454c2d53412d3030323839225d2c226164766973$
f727955524c223a2268747470733a2f2f73656375726974792d63656e7465722e696e74656c2e636f6d222c226964223a223437383630383639393935333436353634323434383431303835313936303239363737373430222c22697376456e636c61766551756f7465$
26f6479223a2241674141414d674c4141414c41416f41414141414147534e62522f7245715234655966334c4d384b3263666455635937526e67424e6e385a6a6d7264707a694d4542414342762b414141414141414141414141414141414141414141414141414141414
1414141414141414141414141414141414141414141414141414141414277414141414141414141484141414141414141414f51434843537a4d2b73483131363172564b58723431647879666b7931664a6a6a2b35625a586964694873414141414141414141414141414
141414141414141414141414141414141414141414141414141414141434431786e6e6665724b4648443275765971545864444138695a32326b434435787737683338434d664f6e674141414141414141414141414141414141414141414141414141414141414141414
14141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414
14141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414330554f74393234413451566c747171455337674b4b73566978556741414141414
141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141222c22697376456e636c61766551756f7465537461747573223a22434f4e46494755524154494f4e5f414e445f53575f48415244454
e494e475f4e4545444544222c22706c6174666f726d496e666f426c6f62223a22313530323030363530303030303830303030304630463032303430313830303730303030303030303030303030303030303030423030303030423030303030303032303030303030303
03030303030424338303636414434304445343445324243314337463132303743334238334337333637314237313241313846354333344338394630374331433545424641324139433841374634353245313142353531394141433036354630363842374442343646314
3464638444338363830343244384636444234414241344242364236453741222c2274696d657374616d70223a22323032302d30392d31345432313a33373a34362e393732383933222c2276657273696f6e223a347d',
api-server_1  |     signature: '320b2959bbe1a07ddb6b746d57ae267fddc6dac8385defd4b307020351ffb7e323ade9723e2bf77c1d5d3a75d6808b1000d547aeacbaef50d706ea3da7d60e1524b6dca73fb225f1946ff0a7f2498665d4065cfc225aaca7df3b
1bf04e87227e8c66de5439bdf17793bdf26a444c45b827d4dcf1e01e2253bc423344a5bd0ddce27d3f8d027a13d40a87b577b4950da989bd06af0d9900917e720d2bda3e725c2e51336e889827ef46a82912214e0434842cdd283f3f17e300b3b6f3e1e007fe9058885f
9207223e80cc0473412307e2baf4fbeda3143e1096cf59a4da8469b7e6ce608b58e889377c3e0c113cbbb18a8d5c87d7fed52d1baef965254631802f'
api-server_1  |   }
api-server_1  | }
enclave_1     | [+] Init Enclave Successfully 2!
enclave_1     | Binded to socket: tcp://*:5552
enclave_1     |
enclave_1     | sending IAS request IASRequest {
enclave_1     |     isv_enclave_quote: "AgAAAMgLAAALAAoAAAAAAGSNbR/rEqR4eYf3LM8K2cfdUcY7RngBNn8ZjmrdpziMEBACBv+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAHAAAAAAAAAOQCHCSzM+sH1161rVKXr41dxyfky1fJjj+5bZXidiHsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACD1xnnferKFHD2uvYqTXdDA8iZ22kCD5xw7h38CMfOng
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC0UOt924A4QVltqqES7gKKsVixUgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqAIAABk+PJPi8Za+H169
xKg0xS8Fexc+lFn2oUcpYh2qIkxzENWqjFEXGCIM5UXtx6e3Kq36B5hEZQKsa6Kbtntq7MSIQGUkf5dPAwEcuKugj54eEhSgno5f2A7BITCs4bHY2UxbByM9BVb4Hu1EbLOnUycVTpHLB+qWQK12WccIP7KnPK5CnolEIMnNhqoh86POlgxN6OYOTs/NRTEfR4N3X0zqjJQdlfL5gOxp0ZYxXg8dPnYfN9WHoY7n1y/6ZfXYvWo17srE8C297cKd8rH5+0cQUppIR0lPiCcqgF2Ip1xJvcQc/NH2jAk02u5fCWIYv2nzG+LyCtnfYb
JvgHiPvsUe9mSSjj9r8HX3HG7+0CCLE4F71cY91Nb+UaAsn1WW5e7ZDaa8NGlX1L3STmgBAACuTbWa4gI7DN6WNpkBjzMR3g4Kkh/EZUaBBmUhnDPzGW43/34kz0iYue3436iMBqBGW8VrmKxewApS2Ss6l17t+bhVAb65B8fh/FrOitKrwh+a7uQ7V3jtIk9Qizw5Trbe9u7cqlL3w9PHT01L5Woded+RQ/ed8nHluCjGRqNEIiTEkzCEppdsxCsSiYhIf5Q8Q1FJux96J0jvkbuwv5mR7Ayg5uGVjBb3Z4pOOUBvJSdUsXxzjOIB
CLg+ViGj0cCED0eEqbqvpB+3mMxcysLHl64zik4b4CcIECcZMM5x9ZWGmsKyUuGyEN9mNJNAD42L/6WcGTggegdXB/dUpeh1C7TFGXh/pCdvICD0C5w8vH5qoRjRVzFQ87sXZrGsaW+gVNuBfmOPeVtUW9Jyc9jj91NF0TcgAOHqw4hzTcbR3719/kPx5Hd68AHBmDIuE1mtCAzE75Obbh5ibB6fNvwLuH1w8LYFDK7rGVdrGeYO4RQ64g84i89I",
enclave_1     | }:
enclave_1     | json response: Object({
enclave_1     |     "advisoryIDs": Array([
enclave_1     |         String(
enclave_1     |             "INTEL-SA-00334",
enclave_1     |         ),
enclave_1     |         String(
enclave_1     |             "INTEL-SA-00161",
enclave_1     |         ),
enclave_1     |         String(
enclave_1     |             "INTEL-SA-00219",
enclave_1     |         ),
enclave_1     |         String(
enclave_1     |             "INTEL-SA-00289",
enclave_1     |         ),
enclave_1     |     ]),
enclave_1     |     "advisoryURL": String(
enclave_1     |         "https://security-center.intel.com",
enclave_1     |     ),
enclave_1     |     "id": String(
enclave_1     |         "47860869995346564244841085196029677740",
enclave_1     |     ),
enclave_1     |     "isvEnclaveQuoteBody": String(
enclave_1     |         "AgAAAMgLAAALAAoAAAAAAGSNbR/rEqR4eYf3LM8K2cfdUcY7RngBNn8ZjmrdpziMEBACBv+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAHAAAAAAAAAOQCHCSzM+sH1161rVKXr41dxyfky1fJjj+5bZXidiHsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACD1xnnferKFHD2uvYqTXdDA8iZ22kCD5xw7h38CMfOngAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC0UOt924A4QVltqqES7gKKsVixUgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
enclave_1     |     ),
enclave_1     |     "isvEnclaveQuoteStatus": String(
enclave_1     |         "CONFIGURATION_AND_SW_HARDENING_NEEDED",
enclave_1     |     ),
enclave_1     |     "platformInfoBlob": String(
enclave_1     |         "1502006500000800000F0F02040180070000000000000000000B00000B000000020000000000000BC8066AD40DE44E2BC1C7F1207C3B83C73671B712A18F5C34C89F07C1C5EBFA2A9C8A7F452E11B5519AAC065F068B7DB46F1CFF8DC868042D8F6DB4ABA4BB6B6E7A",
enclave_1     |     ),
enclave_1     |     "timestamp": String(
enclave_1     |         "2020-09-14T21:37:46.972893",
enclave_1     |     ),
enclave_1     |     "version": Number(
enclave_1     |         4,
enclave_1     |     ),
enclave_1     | })
enclave_1     | headers: {
enclave_1     |     "content-length": "1131",
enclave_1     |     "content-type": "application/json",
enclave_1     |     "request-id": "1535afdcdf8b4a43b04a408030bec102",
enclave_1     |     "x-iasreport-signature": "MgspWbvhoH3ba3RtV64mf93G2sg4Xe/UswcCA1H/t+MjrelyPiv3fB1dOnXWgIsQANVHrqy671DXBuo9p9YOFSS23Kc/siXxlG/wp/JJhmXUBlz8Ilqsp987G/BOhyJ+jGbeVDm98XeTvfJqRExFuCfU3PHgHiJTvEIzRKW9DdzifT+NAnoT1AqHtXe0lQ2pib0Grw2ZAJF+cg0r2j5yXC5RM26ImCfvRqgpEiFOBDSELN0oPz8X4wCztvPh4Af+kFiIX5IHIj6AzARz
QSMH4rr0++2jFD4Qls9ZpNqEabfmzmCLWOiJN3w+DBE8u7GKjVyH1/7VLRuu+WUlRjGALw==",
enclave_1     |     "x-iasreport-signing-certificate": "-----BEGIN%20CERTIFICATE-----%0AMIIEoTCCAwmgAwIBAgIJANEHdl0yo7CWMA0GCSqGSIb3DQEBCwUAMH4xCzAJBgNV%0ABAYTAlVTMQswCQYDVQQIDAJDQTEUMBIGA1UEBwwLU2FudGEgQ2xhcmExGjAYBgNV%0ABAoMEUludGVsIENvcnBvcmF0aW9uMTAwLgYDVQQDDCdJbnRlbCBTR1ggQXR0ZXN0%0AYXRpb24gUmVwb3J0IFNpZ25pbmcgQ
0EwHhcNMTYxMTIyMDkzNjU4WhcNMjYxMTIw%0AMDkzNjU4WjB7MQswCQYDVQQGEwJVUzELMAkGA1UECAwCQ0ExFDASBgNVBAcMC1Nh%0AbnRhIENsYXJhMRowGAYDVQQKDBFJbnRlbCBDb3Jwb3JhdGlvbjEtMCsGA1UEAwwk%0ASW50ZWwgU0dYIEF0dGVzdGF0aW9uIFJlcG9ydCBTaWduaW5nMIIBIjANBgkqhkiG%0A9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqXot4OZuphR8nudFrAFiaGxxkgma/Es/BA%2Bt%0AbeCTUR106A
L1ENcWA4FX3K%2BE9BBL0/7X5rj5nIgX/R/1ubhkKWw9gfqPG3KeAtId%0Acv/uTO1yXv50vqaPvE1CRChvzdS/ZEBqQ5oVvLTPZ3VEicQjlytKgN9cLnxbwtuv%0ALUK7eyRPfJW/ksddOzP8VBBniolYnRCD2jrMRZ8nBM2ZWYwnXnwYeOAHV%2BW9tOhA%0AImwRwKF/95yAsVwd21ryHMJBcGH70qLagZ7Ttyt%2B%2BqO/6%2BKAXJuKwZqjRlEtSEz8%0AgZQeFfVYgcwSfo96oSMAzVr7V0L6HSDLRnpb6xxmbPdqNol4tQ
IDAQABo4GkMIGh%0AMB8GA1UdIwQYMBaAFHhDe3amfrzQr35CN%2Bs1fDuHAVE8MA4GA1UdDwEB/wQEAwIG%0AwDAMBgNVHRMBAf8EAjAAMGAGA1UdHwRZMFcwVaBToFGGT2h0dHA6Ly90cnVzdGVk%0Ac2VydmljZXMuaW50ZWwuY29tL2NvbnRlbnQvQ1JML1NHWC9BdHRlc3RhdGlvblJl%0AcG9ydFNpZ25pbmdDQS5jcmwwDQYJKoZIhvcNAQELBQADggGBAGcIthtcK9IVRz4r%0ARq%2BZKE%2B7k50/OxUsmW8aavOzKb0
iCx07YQ9rzi5nU73tME2yGRLzhSViFs/LpFa9%0AlpQL6JL1aQwmDR74TxYGBAIi5f4I5TJoCCEqRHz91kpG6Uvyn2tLmnIdJbPE4vYv%0AWLrtXXfFBSSPD4Afn7%2B3/XUggAlc7oCTizOfbbtOFlYA4g5KcYgS1J2ZAeMQqbUd%0AZseZCcaZZZn65tdqee8UXZlDvx0%2BNdO0LR%2B5pFy%2BjuM0wWbu59MvzcmTXbjsi7HY%0A6zd53Yq5K244fwFHRQ8eOB0IWB%2B4PfM7FeAApZvlfqlKOlLcZL2uyVmzRkyR5yW7%0A
2uo9mehX44CiPJ2fse9Y6eQtcfEhMPkmHXI01sN%2BKwPbpA39%2BxOsStjhP9N1Y1a2%0AtQAVo%2ByVgLgV2Hws73Fc0o3wC78qPEA%2Bv2aRs/Be3ZFDgDyghc/1fgU%2B7C%2BP6kbq%0Ad4poyb6IW8KCJbxfMJvkordNOgOUUxndPHEi/tb/U7uLjLOgPA%3D%3D%0A-----END%20CERTIFICATE-----%0A-----BEGIN%20CERTIFICATE-----%0AMIIFSzCCA7OgAwIBAgIJANEHdl0yo7CUMA0GCSqGSIb3DQEBCwU
AMH4xCzAJBgNV%0ABAYTAlVTMQswCQYDVQQIDAJDQTEUMBIGA1UEBwwLU2FudGEgQ2xhcmExGjAYBgNV%0ABAoMEUludGVsIENvcnBvcmF0aW9uMTAwLgYDVQQDDCdJbnRlbCBTR1ggQXR0ZXN0%0AYXRpb24gUmVwb3J0IFNpZ25pbmcgQ0EwIBcNMTYxMTE0MTUzNzMxWhgPMjA0OTEy%0AMzEyMzU5NTlaMH4xCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJDQTEUMBIGA1UEBwwL%0AU2FudGEgQ2xhcmExGjAYBgNVBAoMEUludG
VsIENvcnBvcmF0aW9uMTAwLgYDVQQD%0ADCdJbnRlbCBTR1ggQXR0ZXN0YXRpb24gUmVwb3J0IFNpZ25pbmcgQ0EwggGiMA0G%0ACSqGSIb3DQEBAQUAA4IBjwAwggGKAoIBgQCfPGR%2BtXc8u1EtJzLA10Feu1Wg%2Bp7e%0ALmSRmeaCHbkQ1TF3Nwl3RmpqXkeGzNLd69QUnWovYyVSndEMyYc3sHecGgfinEeh%0ArgBJSEdsSJ9FpaFdesjsxqzGRa20PYdnnfWcCTvFoulpbFR4VBuXnnVLVzkUvlXT%0AL/TAnd8nIZk0z
ZkFJ7P5LtePvykkar7LcSQO85wtcQe0R1Raf/sQ6wYKaKmFgCGe%0ANpEJUmg4ktal4qgIAxk%2BQHUxQE42sxViN5mqglB0QJdUot/o9a/V/mMeH8KvOAiQ%0AbyinkNndn%2BBgk5sSV5DFgF0DffVqmVMblt5p3jPtImzBIH0QQrXJq39AT8cRwP5H%0AafuVeLHcDsRp6hol4P%2BZFIhu8mmbI1u0hH3W/0C2BuYXB5PC%2B5izFFh/nP0lc2Lf%0A6rELO9LZdnOhpL1ExFOq9H/B8tPQ84T3Sgb4nAifDabNt/zu6MmCGo5
U8lwEFtGM%0ARoOaX4AS%2B909x00lYnmtwsDVWv9vBiJCXRsCAwEAAaOByTCBxjBgBgNVHR8EWTBX%0AMFWgU6BRhk9odHRwOi8vdHJ1c3RlZHNlcnZpY2VzLmludGVsLmNvbS9jb250ZW50%0AL0NSTC9TR1gvQXR0ZXN0YXRpb25SZXBvcnRTaWduaW5nQ0EuY3JsMB0GA1UdDgQW%0ABBR4Q3t2pn680K9%2BQjfrNXw7hwFRPDAfBgNVHSMEGDAWgBR4Q3t2pn680K9%2BQjfr%0ANXw7hwFRPDAOBgNVHQ8BAf8EBAMCAQYw
EgYDVR0TAQH/BAgwBgEB/wIBADANBgkq%0AhkiG9w0BAQsFAAOCAYEAeF8tYMXICvQqeXYQITkV2oLJsp6J4JAqJabHWxYJHGir%0AIEqucRiJSSx%2BHjIJEUVaj8E0QjEud6Y5lNmXlcjqRXaCPOqK0eGRz6hi%2BripMtPZ%0AsFNaBwLQVV905SDjAzDzNIDnrcnXyB4gcDFCvwDFKKgLRjOB/WAqgscDUoGq5ZVi%0AzLUzTqiQPmULAQaB9c6Oti6snEFJiCQ67JLyW/E83/frzCmO5Ru6WjU4tmsmy8Ra%0AUd4APK0wZTG
tfPXU7w%2BIBdG5Ez0kE1qzxGQaL4gINJ1zMyleDnbuS8UicjJijvqA%0A152Sq049ESDz%2B1rRGc2NVEqh1KaGXmtXvqxXcTB%2BLjy5Bw2ke0v8iGngFBPqCTVB%0A3op5KBG3RjbF6RRSzwzuWfL7QErNC8WEy5yDVARzTA5%2BxmBc388v9Dm21HGfcC8O%0ADD%2BgT9sSpssq0ascmvH49MOgjt1yoysLtdCtJW/9FZpoOypaHx0R%2BmJTLwPXVMrv%0ADaVzWh5aiEx%2BidkSGMnX%0A-----END%20CERTIFICATE--
---%0A",
enclave_1     |     "date": "Mon, 14 Sep 2020 21:37:46 GMT",
enclave_1     | }
enclave_1     | ca.issued(&cert): X509VerifyResult {
enclave_1     |     code: 0,
enclave_1     |     error: "ok",
enclave_1     | }
enclave_1     | verify sig: false
enclave_1     | result of verify report: false
```

## Developing the safetrace enclave code
There's a `docker-compose.yml`under [enclave/](enclave/) that can be used for
developing code. The source code is mounted in the container, and consequently
one can edit the files on the host, and run the tests in the container. For
instance:

```shell
$ cd enclave/
$ docker-compose run --rm enclave bash
root@76d0b45275b7:/usr/src/enclave/safetrace# cd app/
root@76d0b45275b7:/usr/src/enclave/safetrace/app# cargo test
...
```

## Notes about the Dockerfile
The Dockerfile is located under the [enclave/](./enclave) directory. Its base image, **linux-sgx:2.6** is hosted on DockerHub at https://hub.docker.com/repository/docker/initc3/linux-sgx and its Dockerfile can be found on GitHub at https://github.com/initc3/docker-linux-sgx/blob/master/2.6/ubuntu-18.04/Dockerfile.

A docker image for Safetrace requires, roughly speaking, three layers:

1. [Intel Linux SGX](https://github.com/intel/linux-sgx/tree/sgx_2.6) (PSW + SDK - version 2.6) as per [Intel SGX installation guide](https://download.01.org/intel-sgx/linux-2.6/docs/Intel_SGX_Installation_Guide_Linux_2.6_Open_Source.pdf)
2. [Rust SGX SDK](https://github.com/apache/incubator-teaclave-sgx-sdk/tree/v1.0.9) - version 1.0.9
3. Safetrace code

The first layer, Linux SGX, is the base image used by the Safetrace Dockerfile under [enclave/](./enclave).
